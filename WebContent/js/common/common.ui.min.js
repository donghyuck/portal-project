(function(e,t){var n=kendo.ui.Widget;var r=window.ui=window.ui||{};var i="undefined",s="string";r.util={};r.util.prettyDate=function(e){var t=new Date((e||"").replace(/-/g,"/").replace(/[TZ]/g," ")),n=((new Date).getTime()-t.getTime())/1e3,r=Math.floor(n/86400);if(isNaN(r)||r<0||r>=31)return;return r==0&&(n<60&&"just now"||n<120&&"1 minute ago"||n<3600&&Math.floor(n/60)+" minutes ago"||n<7200&&"1 hour ago"||n<86400&&Math.floor(n/3600)+" hours ago")||r==1&&"Yesterday"||r<7&&r+" days ago"||r<31&&Math.ceil(r/7)+" weeks ago"}})(jQuery);(function($,undefined){function defined(e){return typeof e!=UNDEFINED}var common=window.common=window.common||{};common.ui=common.ui||{};var kendo=window.kendo,Widget=kendo.ui.Widget,each=$.each,support=kendo.support,browser=support.browser,transitions=support.transitions,stringify=kendo.stringify,UNDEFINED="undefined",proxy=$.proxy,extend=$.extend,isFunction=kendo.isFunction,DEFAULT_LIGHTBOX_OPTIONS={items:[],type:"image",mainClass:"mfp-no-margins mfp-with-zoom",image:{verticalFit:true},gallery:{enabled:false,navigateByImgClick:true}},DEFAULT_BXSLIDER_OPTIONS={minSlides:3,maxSlides:3,slideWidth:"100%",slideMargin:10,adaptiveHeight:true};common.ui.landing=function(e){if(typeof e===UNDEFINED)e=".page-loader";if($(e).length==0){$("body").prepend("<div class='page-loader' ></div>")}$(e).fadeOut("slow")};common.ui.slider=function(element){if(!isFunction($.fn.bxSlider)){return false}if(!defined(element)){element=$(".bxslider")}var options=DEFAULT_BXSLIDER_OPTIONS;if(element.data("plugin-options")){extend(options,eval("({"+element.data("plugin-options")+"})"))}element.bxSlider(options)};common.ui.backstretch=function(){if(!defined($.backstretch)){return false}var e=common.api.streams.dataSource;var t=kendo.template("/community/view-streams-photo.do?key=#= externalId#");e.fetch(function(){var e=this.data();var n=[];each(e,function(e,r){n.push(t(r))});$.backstretch(n,{duration:6e3,fade:750})})};common.ui.superbox=function(){var e=$('<div class="superbox-show"></div>');var t=$('<img src="" class="superbox-current-img">');var n=$('<div class="superbox-close" data-dismiss="superbox"><span class="sr-only">Close</span></div>');e.append(t).append(n);$(document).on("click","[data-ride='gallery'].superbox-list",function(n){var r=$(this);r.parent().children(".superbox-list.active").removeClass("active");var i=r.find("img.superbox-img");var s=i.data("img");t.attr("src",s);r.addClass("active");if(r.next().hasClass("superbox-show")){var o=r.next().is(":visible");$(".superbox-current-img").animate({opacity:o?0:1},200,function(){e.slideToggle({complete:function(){if(o){r.removeClass("active")}}})})}else{e.insertAfter(this).css("display","block")}$("html, body").animate({scrollTop:e.position().top-i.width()},"medium")});$(document).on("click","[data-dismiss='superbox'].superbox-close",function(e){var t=$(this);$(".superbox-current-img").animate({opacity:0},200,function(){t.parent().slideUp({complete:function(){t.parent().parent().children(".superbox-list.active").removeClass("active")}})})})};common.ui.lightbox=function(){if(!defined($.magnificPopup)){return false}$(document).on("click","[data-ride='lightbox']",function(e){var t=$(this),n={};if(t.data("plugin-options")){n=jQuery.extend({},DEFAULT_LIGHTBOX_OPTIONS,opts,t.data("plugin-options"))}else{n=DEFAULT_LIGHTBOX_OPTIONS}if(t.prop("tagName").toLowerCase()=="img"){n.items={src:t.attr("src")}}else{if(t.children("img").length>0){var r=[];$.each(t.children("img"),function(e,t){n.items.push({src:$(t).attr("src")})})}}$.magnificPopup.open(n)})};common.ui.PageSetup=kendo.Class.extend({options:{features:{culture:true,landing:true,backstretch:false,lightbox:false,spmenu:false,morphing:false},worklist:[]},init:function(e){var t=this;e=t.options=extend(true,{},t.options,e);t._initFeatures();t._initWorklist()},_initWorklist:function(){var e=this;var t=e.options.worklist;if(t==null){t=[]}var n,r,i,s;s=t;for(r=0,i=t.length;r<i;r++){n=s[r];$.proxy(n,e)()}},_initFeatures:function(){var e=this;var t=e.options.features;var n=e.options.worklist;if(t.culture){common.api.culture()}if(t.backstretch){common.ui.backstretch()}if(t.morphing){$.each($(".morph-button"),function(e,t){var n=$(t);var r=new codrops.ui.MorphingButton(n)})}if(t.landing){common.ui.landing()}if(t.spmenu){$(document).on("click","[data-toggle='spmenu']",function(e){var t=$(this);var n;if(t.prop("tagName").toLowerCase()=="a"){n=t.attr("href")}else{if(t.data("target")){n=t.data("target")}}$("body").toggleClass("modal-open");$(n).toggleClass("cbp-spmenu-open")});$(document).on("click","[data-dismiss='spmenu']",function(e){var t=$(this);var n=t.parent();$("body").toggleClass("modal-open");n.toggleClass("cbp-spmenu-open")})}if(t.lightbox){common.ui.lightbox()}}});common.ui.setup=function(e){e=e||{};var t=new common.ui.PageSetup(e)};common.ui.switchClass=function(e,t,n,r,i,s){$.effects.animateClass.call(e,{add:n,remove:t},r,i,s)};common.ui.animate=function(e,t,n){var r=e.attr("class");e.addClass(t+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){if(t.indexOf("Out")>-1){$(this).hide().removeClass(t+" animated")}else{$(this).removeClass(t+" animated")}if(isFunction(n))n()});return e};common.ui.animate_v2=function(e,t,n){var r=e.attr("class");e.addClass(t+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass();$(this).addClass(r);if(isFunction(n))n()});return e};common.ui.animate_v3=function(e,t,n){var r=e.attr("class");e.addClass(t+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){if(t.indexOf("Out")>-1){$(this).hide().removeClass(t+" animated")}else{$(this).show().removeClass(t+" animated")}if(isFunction(n))n()});return e};common.ui.animateFade=function(e,t,n){var r=e.attr("class");if($.support.transition){if(r.indexOf("fade")>-1){e.addClass(t)}else{e.addClass("fade "+t)}e.one($.support.transition.end,function(){if(t==="out")e.hide();else e.show();if(r.indexOf("fade")>-1){e.removeClass(t)}else{e.removeClass("fade "+t)}if(isFunction(n))n()}).emulateTransitionEnd(150)}else{if(t==="out")e.hide();else e.show();if(isFunction(n))n()}return e};common.ui.animateFadeOut=function(e,t){common.ui.animateFade(e,"out",t)};common.ui.animateFadeIn=function(e,t){common.ui.animateFade(e,"in",t)};common.ui.initializeOwlCarousel=function(){jQuery(document).ready(function(){var e=$(".owl-slider");e.owlCarousel({itemsDesktop:[1e3,5],itemsDesktopSmall:[900,4],itemsTablet:[600,3],itemsMobile:[479,2]});$(".next-v1").click(function(){e.trigger("owl.next")});$(".prev-v1").click(function(){e.trigger("owl.prev")})});jQuery(document).ready(function(){var e=$(".owl-slider-v2");e.owlCarousel({itemsDesktop:[1e3,5],temsDesktopSmall:[900,4],itemsTablet:[600,3],itemsMobile:[479,2],slideSpeed:1e3});$(".next-v2").click(function(){e.trigger("owl.next")});$(".prev-v2").click(function(){e.trigger("owl.prev")})});jQuery(document).ready(function(){var e=$(".owl-slider-v3");e.owlCarousel({items:9,autoPlay:5e3,itemsDesktop:[1e3,5],itemsDesktopSmall:[900,4],itemsTablet:[600,3],itemsMobile:[300,2]})});jQuery(document).ready(function(){var e=$(".owl-slider-v4");e.owlCarousel({items:3,itemsDesktop:[1e3,3],itemsTablet:[600,2],itemsMobile:[479,1]})})};common.ui.handleActionEvents=function(e,t){t=t||{};if(t.custom===UNDEFINED)t.custom=false;if(typeof e==="string")e=$(e);if(typeof t.handlers===UNDEFINED){if(typeof t.event==="string"&&isFunction(t.handler)){if(typeof t.selector===UNDEFINED){e.on(t.event,t.handler)}else{e.find(t.selector).on(t.event,t.handler)}}}else if(t.handlers instanceof Array){$.each(t.handlers,function(t,n){e.find(n.selector).on(n.event,n.handler)})}};common.ui.handleButtonActionEvents=function(e,t){t=t||{};if(typeof e==="string")e=$(e);e.each(function(e){var n=$(this);var r=n.attr("data-action");if(typeof t.handlers==="object"){if(isFunction(t.handlers[r])){n.bind(t.event,t.handlers[r])}}})};common.ui.notification=function(e){var t="my-notifications";if($("#"+t).length==0){$("body").append('<span id="'+t+'" style="display:none;"></span>')}if(!$("#"+t).data("kendoNotification")){$("#"+t).kendoNotification({position:{pinned:true,top:10,right:10},autoHideAfter:2e3,stacking:"down",templates:[{type:"mail",template:'<div class="notification-mail"><img src="/images/common/notification/error-info.png" /><h3>#= title #</h3><p><small>#= message #</small></p></div>'},{type:"error",template:'<div class="notification-error rounded"><img src="/images/common/notification/error-icon.png" /><h3>#= title #</h3><p>#= message #</p></div>'},{type:"success",template:'<div class="notification-success"><img src="/images/common/notification/success-icon.png" /><h3>#= title #</h3><p><small>#= message #</small></p></div>'}]})}if(isFunction(e.hide)){$("#"+t).data("kendoNotification").bind("hide",e.hide)}$("#"+t).data("kendoNotification").show({title:e.title,autoHideAfter:e.autoHideAfter||5e3,message:e.message},e.type||"error")}})(jQuery);(function(e,t){var n=window.common=window.common||{};n.ui=n.ui||{};var r=window.kendo,i=r.ui.Widget,s=e.isPlainObject,o=e.proxy,u=e.extend,a=r.support.placeholder,f=r.support.browser,l=r.isFunction,c="undefined",h="authenticate",p="shown",d="ROLE_ADMIN",v="ROLE_SYSTEM",m="/login",g=r.template("#if ( typeof( externalLoginHost ) == 'string'  ) { #http://#= externalLoginHost ## } #/community/connect-socialnetwork.do?media=#= media #&domainName=#= domain #"),y="/accounts/get-user.do?output=json",b=n.api.handleKendoAjaxError;n.ui.ExtAccounts=i.extend({init:function(e,t){var n=this;i.fn.init.call(n,e,t);t=n.options;n.token=new User;n.authenticate()},options:{name:"ExtAccounts",messages:{title:"로그인",loginFail:"입력한 사용자 이름 또는 비밀번호가 잘못되었습니다.",loginError:"잘못된 접근입니다."}},events:[h,p],refresh:function(){var t=this;var i=e(t.element);if(t.options.template){i.html(t.options.template(t.token));if(t.token.anonymous){i.find("button.btn-external-login-control-group").click(function(n){var r=e(this).attr("data-target");var i=g({externalLoginHost:t.options.externalLoginHost||document.domain,media:r,domain:document.domain});window.open(i,"popUpWindow","height=500, width=600, left=10, top=10, resizable=yes, scrollbars=yes, toolbar=yes, menubar=no, location=no, directories=no, status=yes")});var s=i.find('form[name="login-form"]');var o=i.find(".login-form-message");if(s.length>0){var u=s.kendoValidator({validateOnBlur:false}).data("kendoValidator");i.find("button.btn-internal-login-control-group").click(function(r){var i=e(this);if(u.validate()){i.button("loading");o.html("");t._login({data:s.serialize(),success:function(e){location.reload()},fail:function(e){s.find('input[name="password"]').val("").focus();n.ui.notification({title:t.options.messages.title,message:t.options.messages.loginFail,type:"error"})},error:function(e){s[0].reset();o.extAlert({data:{message:t.options.messages.loginError}})},always:function(){i.button("reset")}})}})}}else{var a=i.find(".navbar-toggle-aside-menu");if(a.length>0){var f=a.attr("href");if(e(f).length==0){var l=r.template(e("#account-sidebar-template").html());e("body").append(l(t.token))}e(f+" button.btn-close:first").click(function(t){e("body").toggleClass("aside-menu-in")});a.click(function(t){e("body").toggleClass("aside-menu-in");return false})}if(e(".navbar-header .navbar-toggle-account").length>0){e(".navbar-header .navbar-toggle-account").click(function(t){e("body").toggleClass("aside-menu-in");return false})}}t.trigger(p)}},_login:function(t){t=t||{};e.ajax({type:"POST",url:t.url||m,data:t.data||{},success:function(e){if(e.error){if(l(t.fail))t.fail(e)}else{if(l(t.success))t.success(e)}},error:t.error||b,dataType:"json"}).always(function(){if(l(t.always))t.always()})},authenticate:function(){var t=this;e.ajax({type:"POST",url:t.options.url||y,success:function(n){var r=new User(e.extend(n.currentUser,{roles:n.roles}));r.set("isSystem",false);if(r.hasRole(v)||r.hasRole(d))r.set("isSystem",true);r.copy(t.token);t.trigger(h,{token:t.token});t.refresh()},error:t.options.error||b,dataType:"json"})}});e.fn.extend({extAccounts:function(e){return new n.ui.ExtAccounts(this,e)}})})(jQuery);(function(e,t){var n=kendo.ui.Widget,r=window.ui=window.ui||{};var i=e.proxy,s=kendo.template,o=kendo.stringify,u=kendo.isFunction,a="/accounts/get-user.do?output=json",f="authenticate",l="/login",c=kendo.template("#if ( typeof( connectorHostname ) == 'string'  ) { #http://#= connectorHostname ## } #/community/connect-socialnetwork.do?media=#= media #&domainName=#= domain #"),h="error",p="shown",d="update",v="ROLE_ADMIN",m="ROLE_SYSTEM",g=".kendoAccounts",y=false,b="disabled";r.kendoAccounts=n.extend({init:function(e,t){var r=this;n.fn.init.call(r,e,t);t=r.options;e=r.element;if(t.doAuthenticate){r.authenticate()}kendo.notify(r)},options:{name:"Accounts",photoUrl:null,doAuthenticate:true,visible:true,ajax:{url:a},template:null,dropdown:true,connectorHostname:null},events:[f,h,d,p],authenticate:function(){var t=this;e.ajax({type:"POST",url:t.options.ajax.url,success:function(n){user=new User(e.extend(n.currentUser,{roles:n.roles}));user.set("isSystem",false);if(user.hasRole(m))user.set("isSystem",true);if(user.hasRole(v))user.set("isSystem",true);e(t.element).data("currentUser",user);t.token=user;t.trigger(f,{token:user});if(t.options.visible){t.render()}if(t.token.anonymous){e(t.element).find(".custom-external-login-groups button").each(function(n){var r=e(this);r.click(function(e){var n=r.attr("data-target");var i=c({connectorHostname:t.options.connectorHostname,media:n,domain:document.domain});window.open(i,"popUpWindow","height=500, width=600, left=10, top=10, resizable=yes, scrollbars=yes, toolbar=yes, menubar=no, location=no, directories=no, status=yes")})})}if(u(t.options.afterAuthenticate)){t.options.afterAuthenticate()}},error:t.options.ajax.error||handleKendoAjaxError,dataType:"json"})},login:function(n,r){if(typeof n==="object"){r=n;n=t}r=r||{};e.ajax({type:"POST",url:r.url||l,data:r.data||{},success:function(e){if(e.error){r.fail(e)}else{r.success(e)}},error:r.error||handleKendoAjaxError,dataType:"json"})},render:function(){var t=this,n,r;if(t.options.template){t.element.html(t.options.template(t.token))}if(t.options.dropdown){e(t.element).on("click.fndtn.dropdown","[data-dropdown]",function(n){n.preventDefault();n.stopPropagation();t.toggle(e(this))});e("[data-dropdown-content]").on("click.fndtn.dropdown",function(e){e.stopPropagation()})}t.trigger(p)},toggle:function(t){var n=e("#"+t.data("dropdown"));if(t.hasClass("dropped")){t.removeClass("dropped");n.css("display","none");y=false}else{t.addClass("dropped");n.css("display","block");y=true}},destroy:function(){var e=this;n.fn.destroy.call(e);e.element.off(g);y=false},token:new User({})});e.fn.extend({kendoAccounts:function(e){return new r.kendoAccounts(this,e)}})})(jQuery);(function(e,t){var n=window.kendo,r=n.ui.Widget,i=e.proxy,s=window.ui=window.ui||{};s.extSlideshow=r.extend({init:function(t,n){var i=this;r.fn.init.call(i,t,n);i.wrapper=i.element;n=i.options,slideshow=e(i.element);n.items=slideshow.find("li");n.itemsCount=n.items.length;slideshow.imagesLoaded(function(){if(Modernizr.backgroundsize){n.items.each(function(){var t=e(this);t.css("background-image","url("+t.find("img").attr("src")+")")})}else{slideshow.find("img").show()}n.items.eq(n.current).css("opacity",1);i._initEvents();i._start()})},options:{name:"Slideshow",current:0,slideshowtime:0,slideshowActive:true,interval:6e3,items:[],itemsCount:0},_navigate:function(e){var t=this;var n=t.options;var r=n.items.eq(n.current);if(e==="next"){n.current=n.current<n.itemsCount-1?++n.current:0}else if(e==="prev"){n.current=n.current>0?--n.current:n.itemsCount-1}var i=n.items.eq(n.current);r.css("opacity",0);i.css("opacity",1)},_start:function(){var e=this;var t=e.options;t.slideshowActive=true;clearTimeout(t.slideshowtime);t.slideshowtime=setTimeout(function(){e._navigate("next");e._start()},t.interval)},_stop:function(){var e=this;var t=e.options;t.slideshowActive=false;clearTimeout(t.slideshowtime)},_initEvents:function(){var t=this;var n=t.options;var r=n.navigation;if(typeof r==="object"){r.find("span.cbp-bipause").on("click",function(){var n=e(this);if(n.hasClass("cbp-biplay")){n.removeClass("cbp-biplay").addClass("cbp-bipause");t._start()}else{n.removeClass("cbp-bipause").addClass("cbp-biplay");t._stop()}});var i=r.find("span.cbp-biprev").on("click",function(){t._navigate("prev");if(n.slideshowActive){t._start()}});var s=r.find("span.cbp-binext").on("click",function(){t._navigate("next");if(n.slideshowActive){t._start()}})}}});e.fn.extend({extSlideshow:function(e){return new s.extSlideshow(this,e)}})})(jQuery);(function(e,t){var n=window.common=window.common||{};n.ui=n.ui||{};var r=window.kendo,i=r.ui.Widget,s=e.isPlainObject,o=e.proxy,u=e.extend,a=r.support.placeholder,f=r.support.browser,l=r.isFunction,c=/(^\/|\/$)/g,h="change",p="error",d="refresh",v="open",m="close",g="click",y="undefined",b="POST",w="json",E=n.api.handleKendoAjaxError;n.ui.extModalWindow=i.extend({init:function(e,t){var n=this;i.fn.init.call(n,e,t);t=n.options;n.refresh()},events:[p,h,g,v,d,m],options:{name:"ExtModalWindow"},open:function(){var e=this;if(typeof e.options.backdrop==="string"){e._modal().modal({backdrop:e.options.backdrop,show:true})}else{e._modal().modal("show")}},close:function(){var e=this;e._modal().modal("hide")},refresh:function(){var e=this;e._createDialog()},destroy:function(){var t=this;i.fn.destroy.call(t);e(t.element).remove()},data:function(e){var t=this;if(typeof e===y){return t.options.data}else{t.options.data=e}},_modal:function(){var e=this;return e.element.children(".modal")},_changeState:function(e){var t=this;if(e){t.element.find(".modal-footer .btn.custom-update").removeAttr("disabled")}else{t.element.find(".modal-footer .btn.custom-update").attr("disabled","disabled")}},_createDialog:function(){var e=this;var t=e._dialogTemplate();e.element.html(t({title:e.options.title||""}));if(typeof e.options.data==="object"){r.bind(e._modal(),e.options.data);if(e.options.data instanceof r.data.ObservableObject){e.options.data.bind("change",function(t){e.trigger(h,{field:t.field,element:e._modal()[0],data:e.options.data})})}}e._modal().css("z-index","2000");e.element.find(".modal").on("show.bs.modal",function(t){e.trigger(v,{element:e._modal()[0],target:e})});e.element.find(".modal").on("hide.bs.modal",function(t){e.trigger(m,{element:e._modal()[0]})});e.trigger(d,{element:e._modal()[0]})},_dialogTemplate:function(){var e=this;if(typeof e.options.template===y){return r.template("<div class='modal editor-popup fade' tabindex='-1' role='dialog' aria-hidden='true'>"+"<div class='modal-dialog modal-lg'>"+"<div class='modal-content'>"+"<div class='modal-header'>"+"<button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>"+"<h5 class='modal-title'>#= title #</h5>"+"</div>"+"<div class='modal-body'>"+"</div>"+"<div class='modal-footer'>"+"</div>"+"</div><!-- /.modal-content -->"+"</div><!-- /.modal-dialog -->"+"</div><!-- /.modal -->")}else if(l(e.options.template)){return e.options.template}else if(typeof e.options.template==="string"){return r.template(e.options.template)}}});n.ui.modal=function(t){t=t||{};if(typeof t.renderTo==="string"){if(e("#"+t.renderTo).length===0){e("body").append("<section id='"+t.renderTo+"'></section>")}if(!e("#"+t.renderTo).data("kendoExtModalWindow")){return new n.ui.extModalWindow(e("#"+t.renderTo),t)}else{return e("#"+t.renderTo).data("kendoExtModalWindow")}}};e.fn.extend({extModalWindow:function(e){return new n.ui.extModalWindow(this,e)}})})(jQuery);(function(e,t){var n=window.common=window.common||{};n.ui=n.ui||{};var r=window.kendo,i=r.ui.Widget,s=e.isPlainObject,o=e.proxy,u=e.extend,a=r.support.placeholder,f=r.support.browser,l=r.isFunction,c=/(^\/|\/$)/g,h="change",p="apply",d="error",v="click",m="undefined",g="POST",y="json",b=r.template('<a href="#: linkUrl #" title="#: linkTitle #" #if (linkTarget) { # target="_blank"  # }#>#= linkTitle #</a>'),w=n.api.handleKendoAjaxError;n.ui.extEditorPopup=i.extend({init:function(e,t){var n=this;i.fn.init.call(n,e,t);t=n.options;n.refresh()},events:[d,h,p],options:{name:"ExtEditorPopup",transport:{}},show:function(){var e=this;e._modal().modal("show")},close:function(){var e=this;e._modal().modal("hide")},refresh:function(){var e=this;e._createDialog()},destroy:function(){var t=this;i.fn.destroy.call(t);e(t.element).remove()},data:function(){var e=this;return e._data},_modal:function(){var e=this;return e.element.children(".modal")},_changeState:function(e){var t=this;if(e){t.element.find(".modal-footer .btn.custom-update").removeAttr("disabled")}else{t.element.find(".modal-footer .btn.custom-update").attr("disabled","disabled")}},_createDialog:function(){var e=this;var t=e._dialogTemplate();e.element.html(t({title:e.options.title||"",type:e.options.type}));if(e.options.type=="createLink"){e._data=r.observable({linkUrl:"",linkTitle:"",linkTarget:false});e._data.bind("change",function(t){if(t.field=="linkUrl"){if(e._data.get(t.field).length>0)e._changeState(true);else e._changeState(false)}})}r.bind(e.element,e._data);e.element.children(".modal").css("z-index","2000");e.element.find(".modal").on("show.bs.modal",function(t){if(e.options.type=="createLink"){e.element.find("input").val("");e.element.find('input[type="checkbox"]').removeAttr("checked")}e._changeState(false)});e.element.find(".modal-footer .btn.custom-update").click(function(){e.trigger(p,{html:b(e._data)})})},_dialogTemplate:function(){var e=this;if(typeof e.options.template===m){return r.template("<div class='modal editor-popup fade' tabindex='-1' role='dialog' aria-hidden='true'>"+"<div class='modal-dialog modal-sm'>"+"<div class='modal-content'>"+"<div class='modal-header'>"+"<button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>"+"<h5 class='modal-title'>#= title #</h5>"+"</div>"+"<div class='modal-body'>"+"</div>"+"<div class='modal-footer'>"+"</div>"+"</div><!-- /.modal-content -->"+"</div><!-- /.modal-dialog -->"+"</div><!-- /.modal -->")}else if(typeof e.options.template==="object"){return e.options.template}else if(typeof e.options.template==="string"){return r.template(e.options.template)}}});e.fn.extend({extEditorPopup:function(e){return new n.ui.extEditorPopup(this,e)}})})(jQuery);(function(e,t){var n=window.common=window.common||{};n.ui=n.ui||{};var r=window.kendo,i=r.ui.Widget,s=e.isPlainObject,o=e.proxy,u=e.extend,a=r.template,f=r.support.placeholder,l=r.support.browser,c=r.isFunction,h=/(^\/|\/$)/g,p="change",d="apply",v="error",m="click",g="title_guid",y="url_guid",b="upload_guid",w="my_guid",E="website_guid",S="domain_guid",x="undefined",T="POST",N="json",C={selected:a('<div class="row">'+'<div class="col-xs-4">'+'<img src="/community/download-my-domain-image.do?imageId=#=imageId#&width=150&height=150" alt="#=name#" class="img-responsive">'+"</div>"+'<div class="col-xs-8">'+'<h5><span class="label label-warning label-lightweight">#: contentType #</span> #:name# <small>(#: formattedSize() #)</small></h5>'+'<ul class="list-unstyled">'+'<li><i class="fa fa-user color-green"></i></li>'+'<li><i class="fa fa-calendar color-green"></i> #: formattedCreationDate() #</li>'+'<li><i class="fa fa-calendar color-green"></i> #: formattedModifiedDate() #</li>'+'<li><i class="fa fa-tags color-green"></i></li>'+"</ul>"+"</div>"+"</div>"),image:a('<img src="#: url #" class="img-responsive"/>'),url:a("/download/image/#= linkId #"),download:a("/download/image/#=imageId#/#=name#")},k=n.api.handleKendoAjaxError;n.ui.extImageBrowser=i.extend({init:function(e,t){var r=this;i.fn.init.call(r,e,t);t=r.options;t.guid={title_guid:n.api.guid().toLowerCase(),url_guid:n.api.guid().toLowerCase(),upload_guid:n.api.guid().toLowerCase(),my_guid:n.api.guid().toLowerCase(),domain_guid:n.api.guid().toLowerCase(),website_guid:n.api.guid().toLowerCase()};r.refresh()},events:[v,p,d],options:{name:"ExtImageBrowser",transport:{}},show:function(){var e=this;e._modal().modal("show");e.element.find(".modal-body ul.nav a:first").tab("show")},close:function(){var e=this;e._modal().modal("hide")},refresh:function(){var e=this;e._createDialog()},destroy:function(){var t=this;i.fn.destroy.call(t);e(t.element).remove()},_getImageLink:function(e,t){n.api.getImagelink({imageId:e.imageId,success:function(e){t(e)}})},_modal:function(){var e=this;return e.element.children(".modal")},_objectId:function(){var e=this;if(typeof e.options.data==="object"){if(e.options.data instanceof n.models.Page){return e.options.data.pageId}}return 0},_createDialog:function(){var t=this;var n=t._dialogTemplate();t.element.html(n(t.options.guid));t.element.children(".modal").css("z-index","2000");t.element.find('.modal-body a[data-toggle="tab"]').on("shown.bs.tab",function(n){n.target;n.relatedTarget;t._changeState(false);var i=e(n.target).attr("href");var s=e(i);var o=e(i+"-selected");var u=e(i+"-list-view");var a=e(i+"-list-pager");switch(i){case"#"+t.options.guid[b]:if(t._objectId()>0){if(!u.data("kendoListView")){u.kendoListView({dataSource:{type:"json",transport:{read:{url:"/community/list-my-page-image.do?output=json",type:"POST"},parameterMap:function(e,n){if(n!="read"&&e){return{pageId:e.pageId||t._objectId()}}else{return{startIndex:e.skip,pageSize:e.pageSize,pageId:e.pageId||t._objectId()}}}},pageSize:12,error:k,schema:{model:Image,data:"targetImages",total:"totalTargetImageCount"},serverPaging:true},selectable:"single",change:function(e){s.find(".panel-body.custom-selected-image").remove();var n=this.dataSource.view();var r=this.select().index();if(r>=0){var i=n[r];var o=i.imageId;if(o>0){t._changeState(true);s.find(".panel").prepend(C.selected(i))}}},navigatable:false,template:r.template(e("#photo-list-view-template").html()),dataBound:function(e){s.find(".panel-body.custom-selected-image").remove();t._changeState(false)}});u.on("mouseenter",".img-wrapper",function(t){r.fx(e(t.currentTarget).find(".img-description")).expand("vertical").stop().play()}).on("mouseleave",".img-wrapper",function(t){r.fx(e(t.currentTarget).find(".img-description")).expand("vertical").stop().reverse()});a.kendoPager({refresh:true,buttonCount:5,dataSource:u.data("kendoListView").dataSource})}u.data("kendoListView").dataSource.read({pageId:t._objectId()})}else{}break;case"#"+t.options.guid[S]:if(!u.data("kendoListView")){u.kendoListView({dataSource:{type:"json",transport:{read:{url:"/community/list-my-domain-image.do?output=json",type:"POST"},parameterMap:function(e,t){if(t!="read"&&e){return{}}else{return{startIndex:e.skip,pageSize:e.pageSize}}}},pageSize:12,error:k,schema:{model:Image,data:"targetImages",total:"totalTargetImageCount"},serverPaging:true},selectable:"single",change:function(e){var n=this.dataSource.view();var r=this.select().index();if(r>=0){var i=n[r];var s=i.imageId;if(s>0){t._getImageLink(i,function(e){if(typeof e.imageLink==="object"){u.data("linkId",e.imageLink.linkId);t._changeState(true);o.html(C.selected(i))}})}}},navigatable:false,template:r.template(e("#photo-list-view-template").html()),dataBound:function(e){o.html("");t._changeState(false)}});u.on("mouseenter",".img-wrapper",function(t){r.fx(e(t.currentTarget).find(".img-description")).expand("vertical").stop().play()}).on("mouseleave",".img-wrapper",function(t){r.fx(e(t.currentTarget).find(".img-description")).expand("vertical").stop().reverse()});a.kendoPager({refresh:true,buttonCount:5,dataSource:u.data("kendoListView").dataSource})}else{u.data("kendoListView").clearSelection()}break;case"#"+t.options.guid[E]:if(!u.data("kendoListView")){u.kendoListView({dataSource:{type:"json",transport:{read:{url:"/community/list-my-website-image.do?output=json",type:"POST"},parameterMap:function(e,t){if(t!="read"&&e){return{}}else{return{startIndex:e.skip,pageSize:e.pageSize}}}},pageSize:12,error:k,schema:{model:Image,data:"targetImages",total:"totalTargetImageCount"},serverPaging:true},selectable:"single",change:function(e){var n=this.dataSource.view();var r=this.select().index();if(r>=0){var i=n[r];var s=i.imageId;if(s>0){t._getImageLink(i,function(e){if(typeof e.imageLink==="object"){u.data("linkId",e.imageLink.linkId);t._changeState(true);o.html(C.selected(i))}})}}},navigatable:false,template:r.template(e("#photo-list-view-template").html()),dataBound:function(e){o.html("");t._changeState(false)}});u.on("mouseenter",".img-wrapper",function(t){r.fx(e(t.currentTarget).find(".img-description")).expand("vertical").stop().play()}).on("mouseleave",".img-wrapper",function(t){r.fx(e(t.currentTarget).find(".img-description")).expand("vertical").stop().reverse()});a.kendoPager({refresh:true,buttonCount:5,dataSource:u.data("kendoListView").dataSource})}else{u.data("kendoListView").clearSelection()}break;case"#"+t.options.guid[w]:if(!u.data("kendoListView")){u.kendoListView({dataSource:{type:"json",transport:{read:{url:"/community/list-my-image.do?output=json",type:"POST"},parameterMap:function(e,t){if(t!="read"&&e){return{}}else{return{startIndex:e.skip,pageSize:e.pageSize}}}},pageSize:12,error:k,schema:{model:Image,data:"targetImages",total:"totalTargetImageCount"},serverPaging:true},selectable:"single",change:function(e){var n=this.dataSource.view();var r=this.select().index();if(r>=0){var i=n[r];var s=i.imageId;if(s>0){t._getImageLink(i,function(e){if(typeof e.imageLink==="object"){u.data("linkId",e.imageLink.linkId);t._changeState(true);o.html(C.selected(i))}})}}},navigatable:false,template:r.template(e("#photo-list-view-template").html()),dataBound:function(e){o.html("");t._changeState(false)}});u.on("mouseenter",".img-wrapper",function(t){r.fx(e(t.currentTarget).find(".img-description")).expand("vertical").stop().play()}).on("mouseleave",".img-wrapper",function(t){r.fx(e(t.currentTarget).find(".img-description")).expand("vertical").stop().reverse()});a.kendoPager({refresh:true,buttonCount:5,dataSource:u.data("kendoListView").dataSource})}else{u.data("kendoListView").clearSelection()}break;case"#"+t.options.guid[y]:var f=t.element.find('.modal-body input[name="custom-selected-url"]');var l=e("#"+t.options.guid[y]).children("img");f.val("");if(f.parent().hasClass("has-error"))f.parent().removeClass("has-error");if(f.parent().hasClass("has-success"))f.parent().removeClass("has-success");if(!l.hasClass("hide"))l.addClass("hide");break}});t.element.find('.modal-body input[name="custom-selected-url"]').on("change",function(){var n=e(this);var r=e("#"+t.options.guid[y]).children("img");if(n.val().length==0){if(!r.hasClass("hide"))r.addClass("hide");if(n.parent().hasClass("has-error"))n.parent().removeClass("has-error");if(n.parent().hasClass("has-success"))n.parent().removeClass("has-success");t._changeState(false)}else{r.attr("src",n.val()).load(function(){if(n.parent().hasClass("has-error"))n.parent().removeClass("has-error");n.parent().addClass("has-success");r.removeClass("hide");t._changeState(true)}).error(function(){if(!r.hasClass("hide"))r.addClass("hide");if(n.parent().hasClass("has-success"))n.parent().removeClass("has-success");n.parent().addClass("has-error");t._changeState(false)})}});t.element.find(".modal-footer .btn.custom-insert-img").on("click",function(){var n=t._activePane();var r=n.attr("id");var i="";switch(r){case t.options.guid[y]:i=t.element.find('.modal-body input[name="custom-selected-url"]').val();break;default:var s=e("#"+r+"-list-view").data("kendoListView");var o=s.dataSource.view();e.each(s.select(),function(n,r){var s=o[e(r).index()];if(s.objectType===30){i=C.download(s)}else{t._getImageLink(s,function(e){if(typeof e.imageLink==="object"){i=C.url(e.imageLink)}})}})}if(i.length>0){t.trigger(d,{html:C.image({url:i})})}})},_activePane:function(){var e=this;return e.element.find(".tab-content > .tab-pane.active")},_changeState:function(e){var t=this;if(e){t.element.find(".modal-footer .btn.custom-insert-img").removeAttr("disabled")}else{t.element.find(".modal-footer .btn.custom-insert-img").attr("disabled","disabled")}},_dialogTemplate:function(){var e=this;if(typeof e.options.template===x){return r.template("<div class='modal fade' tabindex='-1' role='dialog' aria-labelledby=#:id# aria-hidden='true'>"+"<div class='modal-dialog modal-lg'>"+"<div class='modal-content'>"+"<div class='modal-header'>"+"<button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>"+"<h5 class='modal-title' id=#: id #>이미지 삽입</h5>"+"</div>"+"<div class='modal-body'>"+"</div>"+"<div class='modal-footer'>"+"</div>"+"</div><!-- /.modal-content -->"+"</div><!-- /.modal-dialog -->"+"</div><!-- /.modal -->")}else if(typeof e.options.template==="object"){return e.options.template}else if(typeof e.options.template==="string"){return r.template(e.options.template)}}});e.fn.extend({extImageBrowser:function(e){return new n.ui.extImageBrowser(this,e)}})})(jQuery);(function(e,t){var n=window.common=window.common||{};n.ui=n.ui||{};var r=window.kendo,i=r.ui.Widget,s=e.isPlainObject,o=e.proxy,u=e.extend,a=r.support.placeholder,f=r.support.browser,l=r.isFunction,c="change",h="undefined",p=r.template('<ul id="cbp-bislideshow" class="cbp-bislideshow"></ul>'+'<div id="cbp-bicontrols" class="cbp-bicontrols">'+'<span class="fa cbp-biprev"></span>'+'<span class="fa cbp-bipause"></span>'+'<span class="fa cbp-binext"></span>'+"</div>"+"</div>"),d=r.template('<li><img src="/community/view-streams-photo.do?key=#= externalId#" alt="이미지"/></li>'),v=n.api.handleKendoAjaxError;n.ui.extFullscreenSlideshow=i.extend({init:function(e,t){var n=this;i.fn.init.call(n,e,t);t=n.options;n._dataSource();n.element.html(p);n._initEvents()},options:{name:"ExtFullscreenSlideshow",autoBind:true,interval:6e3,slideshowtime:0},_initEvents:function(){var t=this;var n=t.options;var r=t.element.children(".cbp-bicontrols");if(r.length>0){r.find("span.cbp-bipause").on("click",function(){var n=e(this);if(n.hasClass("cbp-biplay")){n.removeClass("cbp-biplay").addClass("cbp-bipause");t._start()}else{n.removeClass("cbp-bipause").addClass("cbp-biplay");t._stop()}});var i=r.find("span.cbp-biprev").on("click",function(){t._navigate("prev");if(t.active){t._start()}});var s=r.find("span.cbp-binext").on("click",function(){t._navigate("next");if(t.active){t._start()}})}},_dataSource:function(){var e=this;if(typeof e.options.dataSource==="object")e.dataSource=r.data.DataSource.create(e.options.dataSource);else e.dataSource=n.api.streams.dataSource;e.dataSource.bind(c,function(){e.refresh()});if(e.options.autoBind){e.dataSource.fetch()}},current:0,active:false,refresh:function(){var t=this;var n=t.dataSource.view();var i=t.element.children(".cbp-bislideshow");i.html(r.render(d,n));t.items=i.find("li");i.imagesLoaded(function(){if(Modernizr.backgroundsize){t.items.each(function(){var t=e(this);t.css("background-image","url("+t.find("img").attr("src")+")")})}else{i.find("img").show()}t.items.eq(t.current).css("opacity",1)})},_navigate:function(e){var t=this;var n=t.items.eq(t.current);if(e==="next"){t.current=t.current<t.items.length-1?++t.current:0}else if(e==="prev"){t.current=t.current>0?--t.current:t.items.length-1}var r=t.items.eq(t.current);n.css("opacity",0);r.css("opacity",1)},_start:function(){var e=this;var t=e.options;e.active=true;clearTimeout(t.slideshowtime);t.slideshowtime=setTimeout(function(){e._navigate("next");e._start()},t.interval)},_stop:function(){var e=this;var t=e.options;e.active=false;clearTimeout(t.slideshowtime)},destroy:function(){var t=this;i.fn.destroy.call(t);e(t.element).remove()}});e.fn.extend({extFullscreenSlideshow:function(e){return new n.ui.extFullscreenSlideshow(this,e)}})})(jQuery);(function(e,t){var n=window.common=window.common||{};n.ui=n.ui||{};var r=window.kendo,i=r.ui.Widget,s=r.data.DataSource,o=e.isPlainObject,u=e.proxy,a=e.extend,f=r.support.placeholder,l=r.support.browser,c=r.isFunction,h="POST",p="json",d="change",v="undefined",m="facebook",g="twitter",y="tumblr",b;handleKendoAjaxError=n.api.handleKendoAjaxError;n.ui.extMediaStreamView=i.extend({init:function(e,t){var n=this;i.fn.init.call(n,e,t);t=n.options;n._dataSource()},options:{name:"ExtMediaStreamView",autoBind:true},id:function(){var e=this;var t=e.options;if(typeof t.id===v)return 0;else return t.id},events:[d],_dataSource:function(){var t=this;var n=t.options;if(typeof t.options.dataSource==="object"){t.dataSource=r.data.DataSource.create(t.options.dataSource)}else{if(typeof n.media==="string"){var i={parameterMap:function(e,t){return{}}};switch(n.media){case m:i.url="/community/get-facebook-homefeed.do?output=json";i.data="homeFeed";i.template=r.template(e("#facebook-homefeed-template").html());break;case g:i.url="/community/get-twitter-hometimeline.do?output=json";i.data="homeTimeline";i.template=r.template(e("#twitter-timeline-template").html());break;case y:i.url="/community/get-tumblr-dashboard.do?output=json";i.data="dashboardPosts";i.template=r.template(e("#tumblr-dashboard-template").html());break}if(typeof n.template===v)n.template=i.template;t.dataSource=s.create({type:p,transport:{read:{type:h,url:i.url},parameterMap:i.parameterMap},error:handleKendoAjaxError,schema:{data:i.data},requestStart:function(){r.ui.progress(t.element,true)},requestEnd:function(){r.ui.progress(t.element,false)}})}}t.dataSource.bind(d,function(){t.refresh()});if(t.options.autoBind){t.dataSource.fetch()}},refresh:function(){var e=this;var t=e.options;var n=e.dataSource.view();e.element.html(r.render(t.template,n));e.trigger(d)},destroy:function(){var t=this;i.fn.destroy.call(t);e(t.element).remove()}});e.fn.extend({extMediaStreamView:function(e){return new n.ui.extMediaStreamView(this,e)}})})(jQuery);(function(e,t){function y(e){return typeof e!=g}var n=window.common=window.common||{};n.ui=n.ui||{};var r=window.kendo,i=r.ui.Widget,s=r.data.DataSource,o=r.template,u=e.isPlainObject,a=e.proxy,f=e.extend,l=r.support.placeholder,c=r.support.browser,h=r.isFunction,p="POST",d="json",v="change",m="string",g="undefined";TEMPLATE=o('<div data-alert class="alert alert-danger animated fadeInDown">#=message#<button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button></div>'),handleKendoAjaxError=n.api.handleKendoAjaxError;n.ui.alert=function(t){t=t||{};if(y(t.renderTo)){return new n.ui.ExtAlert(e(t.renderTo),t)}else if(y(t.appendTo)){var r=n.api.guid().toLowerCase();e(t.appendTo).append("<div id='"+r+"'></div>");return new n.ui.ExtAlert(e("#"+r),t)}};n.ui.ExtAlert=i.extend({init:function(e,t){var n=this;i.fn.init.call(n,e,t);this.options=n.options;n.refresh();r.notify(n)},options:{name:"ExtAlert",data:{}},refresh:function(){var e=this,t=e.options;if(typeof t.template===g)e.template=TEMPLATE;else if(typeof t.template===m)e.template=o(t.template);else if(h(t.template))e.template=t.template;if(typeof t.data===g)t.data={};e.element.html(e.template(t.data))}});e.fn.extend({extAlert:function(e){return new n.ui.ExtAlert(this,e)}})})(jQuery);(function(e,t){function p(e){return typeof e!=a}var n=window.common=window.common||{};n.ui=n.ui||{};var r=window.kendo,i=r.ui.Widget,s=r.isFunction,o=e.proxy,u=r.keys,a="undefined",f="click",l="change",c="radio",h="disabled";n.ui.buttonEnabled=function(e){if(e.is(":disabled")){e.prop("disabled",false);if(e.is("[data-toggle='button']")){e.toggleClass("active")}}};n.ui.buttonDisabled=function(e){if(!e.is(":disabled")){e.prop("disabled",true);if(e.is("[data-toggle='button']")){e.toggleClass("active")}}};n.ui.button=function(t){if(p(t.renderTo)){var i=t.renderTo;if(typeof i==="string"){i=e(t.renderTo)}if(i.attr("data-dismiss")&&i.attr("data-target")){i.click(function(i){$this=e(this);var s=$this.data("target");if(e(s).length>0){if(p(t.animate)){if($this.data("animate")&&$this.data("animate")=="slideUp"){e(s).slideUp()}else{r.fx(e(s)).fade("out").play()}}else{e(s).hide()}}var o=$this.data("toggle-target");if(e(o).length>0&&e(o).is("button")){n.ui.buttonEnabled(e(o))}})}if(s(t.click)){i.click(t.click)}return i}};n.ui.buttons=function(t){t=t||{};if(p(t.renderTo)){if(e(t.renderTo).data("kendoExtRadioButtons")){return e(t.renderTo).data("kendoExtRadioButtons")}else{if(t.type===c){return new n.ui.ExtRadioButtons(e(t.renderTo),t)}}}};n.ui.ExtRadioButtons=i.extend({init:function(e,t){var n=this;i.fn.init.call(n,e,t);e=n.wrapper=n.element;t=n.options;n._radio();r.notify(n)},events:[f,l],options:{name:"ExtRadioButtons",enable:true},_value:function(){var e=this;if(e.radio){return e.element.find(".active input[type='radio']").val()}},_radio:function(){var e=this;var t=e.element.find("input[type='radio']");if(t.length>0){e.radio=true}else{e.radio=false}if(e.radio){e.value=e._value();t.on(l,function(t){if(e.value!=this.value){e.value=this.value;e.trigger(l,{value:e.value})}})}}})})(jQuery);(function(e,t){function q(e){return typeof e!=k}function R(e,t){return function(){var e=this,n=e.wrapper,r=n[0].style,i=e.options;if(i.isMaximized||i.isMinimized){return}n.children(g).find(F).parent().hide().eq(0).before(c.action({name:"Restore"}));t.call(e);return e}}var n=window.common=window.common||{};n.ui=n.ui||{};var r=window.kendo,i=r.ui.Widget,s=r.data.DataSource,o=e.isPlainObject,u=e.proxy,a=e.extend,f=e.each,l=r.template,c,h=r.support.placeholder,p=r.support.browser,d=r.isFunction,v="body",m=".panel",g=".panel-heading",y=".panel-title",b=".panel-body",w=".panel-heading .k-window-action",E="POST",S="json",x=":visible",T="hidden",N="cursor",C="change",k="undefined",L="open",A="deactivate",O="activate",M="close",_="refresh",D="custom",P="error",H="dragstart",B="dragend",j=".k-window-titlebar .k-i-refresh",F=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",I=n.api.handleKendoAjaxError;n.ui.panel=function(t){t=t||{};if(q(t.renderTo)){return new n.ui.ExtPanel(e(t.renderTo),t)}else if(q(t.appendTo)){var r=n.api.guid().toLowerCase();e(t.appendTo).append("<div id='"+r+"'  class='panel panel-default no-padding-hr'></div>");e("#"+r).fadeIn("slow");return new n.ui.ExtPanel(e("#"+r),t)}};n.ui.ExtPanel=i.extend({init:function(t,n){var s=this,o,f,l,h,p=false,d=n&&n.actions&&!n.actions.length,v;i.fn.init.call(s,t,n);n=s.options;t=s.element;f=n.content;if(d){n.actions=[]}s.appendTo=e(n.appendTo);if(!q(n.visible)||n.visible===null){n.visible=t.is(x)}if(t.is(x)){p=true}else{l=t.css("visibility");h=t.css("display");t.css({visibility:T,display:""});t.css({visibility:l,display:h})}if(!q(n.visible)||n.visible===null){n.visible=t.is(x)}o=s.wrapper=t.closest(m);o.append(c.heading(a(c,n)));o.append(c.body({}));if(f){s.render()}if(q(n.template)){if(!q(n.data)){n.data={}}n.content=n.template(n.data);s.render()}if(n.autoBind)r.bind(t,n.data);v=t.attr("id");o.on("click","> "+w,u(s._panelActionHandler,s));if(n.visible){s.trigger(L,{target:s});s.trigger(O)}r.notify(s)},events:[L,M,_,H,B,D,P],options:{name:"ExtPanel",title:"",actions:["Close"],content:null,visible:null,appendTo:v,autoBind:false,animation:{open:{},close:{}},refreshContent:true,handlers:{}},data:function(e){var t=this;if(q(e)){t.options.data=e}else{return t.options.data}},_animations:function(){var e=this.options;if(e.animation===false){e.animation={open:{effects:{}},close:{hide:true,effects:{}}}}},_closable:function(){return e.inArray("close",e.map(this.options.actions,function(e){return e.toLowerCase()}))>-1},_panelActionHandler:function(t){if(this._closing){return}var n=e(t.target).closest(".k-window-action").find(".k-icon");var r=this._actionForIcon(n);if(r){t.preventDefault();this[r]();return false}},_actionForIcon:function(e){var t=/\bk-i-\w+\b/.exec(e[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-custom":"_custom"}[t]},_custom:function(e){var t=this;t.trigger(D,{target:t})},_close:function(e){var t=this,n=t.wrapper,r=t.options,i=r.animation.open,s=r.animation.close;if(n.is(x)&&!t.trigger(M,{userTriggered:!e,target:t})){t._closing=true;r.visible=false;n.kendoStop().kendoAnimate({effects:s.effects||i.effects,reverse:s.reverse===true,duration:s.duration,complete:u(this._deactivate,this)})}},toggleMaximization:function(){if(this._closing){return this}return this[this.options.isMaximized?"restore":"maximize"]()},_deactivate:function(){this.wrapper.hide().css("opacity","");this.trigger(A);this.destroy()},title:function(e){var t=this,n=t.wrapper,r=t.options},maximize:R("maximize",function(){var e=this,t=e.wrapper;if(!t.children(b).is(x)){t.children(b).slideToggle(200)}e.options.isMaximized=true}),minimize:R("minimize",function(){var e=this,t=e.wrapper;e.options.isMinimized=true;if(t.children(b).is(x)){t.children(b).slideToggle(200)}}),restore:function(){var e=this;var t=e.options;e.wrapper.find(".panel-heading .k-i-restore").parent().remove().end().end().find(F).parent().show().end().end();e.wrapper.children(b).slideToggle(200);t.isMaximized=t.isMinimized=false;return e},render:function(){var e=this,t=e.wrapper,n=e.options;t.children(b).html(n.content)},refresh:function(){var e=this,t=e.wrapper,n=e.options;t.children(b).html(n.content);if(d(n.handlers.refresh)){n.handlers.refresh()}e.trigger(_,{target:e})},content:function(e,t){var n=this.wrapper.children(b);if(!q(e)){return n.html()}n.empty().html(e);r.bind(n,t)},destroy:function(){i.fn.destroy.call(this);this.unbind(t);r.destroy(this.wrapper);this.wrapper.empty().remove();this.wrapper=this.appendTo=this.element=e()}});c={wrapper:l("<div class='panel panel-default' />"),action:l("<a role='button' href='\\#' class='k-window-action k-link'>"+"<span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span>"+"</a>"),heading:l("<div class='panel-heading'>"+"<h3 class='panel-title'>#= title #</h3>"+"<div class='k-window-actions panel-header-controls'>"+"<div class='k-window-actions'>"+"# for (var i = 0; i < actions.length; i++) { #"+"#= action({ name: actions[i] }) #"+"# } #"+"</div>"+"</div>"+"</div>"),body:l("<div class='panel-body'></div>")}})(jQuery);(function(e,t){var n=kendo.ui.Widget,r=kendo.data.DataSource,i=window.ui=window.ui||{};var s=e.proxy,o="open",u="change",a=new kendo.data.ObservableObject({title:"&nbsp;"});i.extPanel=n.extend({init:function(e,t){var r=this;n.fn.init.call(r,e,t);t=r.options;r.refresh();kendo.notify(r)},events:[u,o],options:{name:"extPanel",title:null,template:null,data:{},refresh:false,commands:[]},hide:function(){var e=this;e.element.hide()},data:function(e){var n=this;if(e!==t){n.options.data=e;if(n.options.refresh)n.refresh();n.trigger(u,{data:n.options.data})}else{return n.options.data}},refresh:function(){var e=this;e.render();if(e.options.afterChange)e.options.afterChange(e.options.data)},show:function(){var t=this;e(t.element).show()},render:function(){var t=this;if(t.options.template){e(t.element).html(t.options.template(t.data()));kendo.bind(e(t.element),t.data())}e(t.element).find(".panel-header-controls a.k-link").each(function(n){e(this).click(function(n){n.preventDefault();var r=e(this);if(r.text()=="Minimize"){var i=r.find("span");if(i.hasClass("k-i-minimize")){i.removeClass("k-i-minimize");i.addClass("k-i-maximize");e(t.element).find(".panel-body, .panel-footer").addClass("hide")}else{i.removeClass("k-i-maximize");i.addClass("k-i-minimize");e(t.element).find(".panel:first > .panel-body:last, .panel-footer").removeClass("hide")}}else if(r.text()=="Close"){t.destroy()}else if(r.text()=="Refresh"){}else if(r.text()=="Custom"){var s=e(t.element).find(".panel-body:first");if(s.hasClass("hide")){s.removeClass("hide");t.trigger(o,{element:t.element.find(".panel-body:first")})}else{s.addClass("hide")}}})});e(t.element).find(".panel-body:first button.close").click(function(n){n.preventDefault();e(t.element).find(".panel-body:first").addClass("hide")});e.each(t.options.commands,function(t,n){e(n.selector).click(n.handler)})},body:function(){var t=this;return e(t.element).find(".panel:first > .panel-body:last")},destroy:function(){var t=this;n.fn.destroy.call(t);e(t.element).remove()}});e.fn.extend({extPanel:function(e){return new i.extPanel(this,e)}})})(jQuery);(function(e,t){var n=kendo.ui.Widget,r=kendo.data.DataSource,i=window.ui=window.ui||{};i.extDropDownList=n.extend({init:function(e,t){var r=this;n.fn.init.call(r,e,t);t=r.options;if(t.renderTo==null){t.renderTo=e}if(t.value!=null)r.value=t.value;r.render(t)},events:{},value:0,dataSource:null,options:{name:"dropDownList",dataSource:null,template:null,enabled:true},_change:function(){var e=this;if(e.options.change!=null)e.options.change(e.dataSource.get(e.value))},render:function(t){var n=this.element.attr("id")+"list";var i=t.renderTo;var s=this;s.dataSource=r.create(t.dataSource);s.dataSource.fetch(function(){var r=s.dataSource.data();var o='<select id="'+n+'"role="navigation" class="form-control"';if(!t.enabled)o=o+"disabled >";else o=o+">";e.each(r,function(e,n){o=o+"<option ";if(s.value==n[t.dataValueField])o=o+" selected ";o=o+' value="'+n[t.dataValueField]+'" '+">"+n[t.dataTextField]+"</option>"});o=o+"</select>";i.append(o);s._change();e("#"+n).change(function(){s.value=e("#"+n).val();s._change()});if(t.doAfter!=null){t.doAfter(s)}})}});e.fn.extend({extDropDownList:function(e){return new i.extDropDownList(this,e)}})})(jQuery);(function(e,t){var n=kendo.ui.Widget,r=kendo.data.DataSource,i=window.ui=window.ui||{};i.extTopBar=n.extend({init:function(e,t){var r=this;n.fn.init.call(r,e,t);t=r.options;if(t.renderTo==null){t.renderTo=e}r.items=new Array;r.render(t)},events:{},dataSource:null,items:null,options:{name:"topBar",renderTo:null,menuName:null,dataSource:null,template:null,select:null},render:function(t){var n=t.renderTo;if(t.dataSource==null&&t.menuName!=null){this.dataSource=r.create({transport:{read:{url:"/secure/get-company-menu-component.do?output=json",dataType:"json",data:{menuName:t.menuName}}},schema:{data:"targetCompanyMenuComponent.components"}})}else{this.dataSource=r.create(t.dataSource)}var i=this;i.dataSource.fetch(function(){var r=i.dataSource.data();n.append(t.template(r));n.find(".nav a").click(function(n){if(e(n.target).is("[action]")){var r=e(n.target);var s={title:e.trim(r.text()),action:r.attr("action"),description:r.attr("description")||""};if(t.select!=null)t.select(s);else i.select(s)}});if(e.isArray(t.items)){}else if(typeof t.items=="object"&&t.items!==null){if(t.items.type=="dropDownList"){var s=t.items;var o=e("#"+s.id).extDropDownList(s);i.items.push(o)}}if(t.doAfter!=null){t.doAfter(i)}})},select:function(e){var t=this.options.renderTo;t.find("form[role='navigation']").attr("action",e.action).submit()},getMenuItem:function(t){var n=this.dataSource.data();var r=null;e.each(n,function(n,i){if(i.components.length>0){e.each(i.components,function(e,n){if(t==n.name){r=n;return}})}else{if(t==i.name){r=i;return}}});return r},item:function(t){return e("#"+t).data("extDropDownList")}});e.fn.extend({extTopBar:function(e){return new i.extTopBar(this,e)}})})(jQuery);(function(e,t){var n=kendo.ui.Widget,r=kendo.data.DataSource,i=window.ui=window.ui||{};var s=false;var o=e("body");i.kendoTopBar=n.extend({init:function(t,r){var i=this;n.fn.init.call(i,t,r);r=i.options;i.render(r);t.click(e.proxy(i._open,this))},events:{},options:{name:"topBar",renderTo:null,dataSource:null,template:null},render:function(t){var n=t.renderTo;var i=r.create(t.dataSource);var s=this;i.fetch(function(){var r=i.data();n.append(t.template(r));n.find("ul").first().kendoMenu({orientation:"vertical",select:function(n){if(e(n.item).is("[action]")){var r=e(n.item);t.select({title:e.trim(r.text()),action:r.attr("action"),description:r.attr("description")||""});setTimeout(function(){s._open()},300)}}});if(t.doAfter!=null){t.doAfter(n)}})},_open:function(e){var t=this.options.renderTo;var n=kendo.fx(t).slideIn("right");if(s){n.reverse();s=false}else{n.play();s=true}e.preventDefault()}});e.fn.extend({kendoTopBar:function(e){return new i.kendoTopBar(this,e)}})})(jQuery);(function(e,t){var n=window.kendo,r=n.ui.Widget,i=e.proxy,s=window.ui=window.ui||{};s.extOverlay=r.extend({init:function(t,n){var i=this;r.fn.init.call(i,t,n);t=i.wrapper=i.element;n=i.options;n.transitions=Modernizr.csstransitions;var s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};n.transEndEventName=s[Modernizr.prefixed("transition")];e(t).find("button.overlay-close").on("click",function(e){e.preventDefault();i.toggleOverlay()})},options:{name:"Overlay"},toggleOverlay:function(){var t=this;var n=e(t.element);var r=t.options;if(n.hasClass("hide")){n.removeClass("hide")}if(n.hasClass("open")){n.removeClass("open");if(e("body").hasClass("modal-open"))e("body").removeClass("modal-open");n.addClass("close");var i=function(e){if(r.transitions){if(e.originalEvent.propertyName!=="visibility")return;n.off(r.transEndEventName,i)}n.removeClass("close")};if(r.transitions){n.on(r.transEndEventName,i)}else{i()}}else if(!n.hasClass("close")){if(!e("body").hasClass("modal-open"))e("body").addClass("modal-open");n.addClass("open")}}});e.fn.extend({extOverlay:function(e){return new s.extOverlay(this,e)}})})(jQuery)