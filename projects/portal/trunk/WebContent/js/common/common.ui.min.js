(function(c,e){var a=kendo.ui.Widget;var b=window.ui=window.ui||{};b.generateGuid=function d(){var f,h,g;f="";for(g=0;g<32;g++){if(g==8||g==12||g==16||g==20){f=f+"-"}h=Math.floor(Math.random()*16).toString(16).toUpperCase();f=f+h}return f};b.util={};b.util.prettyDate=function(i){var g=new Date((i||"").replace(/-/g,"/").replace(/[TZ]/g," ")),h=(((new Date()).getTime()-g.getTime())/1000),f=Math.floor(h/86400);if(isNaN(f)||f<0||f>=31){return}return f==0&&(h<60&&"just now"||h<120&&"1 minute ago"||h<3600&&Math.floor(h/60)+" minutes ago"||h<7200&&"1 hour ago"||h<86400&&Math.floor(h/3600)+" hours ago")||f==1&&"Yesterday"||f<7&&f+" days ago"||f<31&&Math.ceil(f/7)+" weeks ago"};b.util.feedUrl=function(f){if(f=="twitter"){return"/community/get-twitter-hometimeline.do?output=json"}else{if(f=="facebook"){return"/community/get-facebook-homefeed.do?output=json"}}return null};b.util.feedReturnSchemaData=function(f){if(f=="twitter"){return"homeTimeline"}else{if(f=="facebook"){return"homeFeed"}}return null};b.kendoAlert=a.extend({init:function(g,f){var h=this;a.fn.init.call(h,g,f);this.options=h.options;windowTemplate=kendo.template(h.options.windowTemplate);g.html(windowTemplate(f.data));close=f.close||h.options.close;c(g).find("[data-alert] a.close").click(function(i){i.preventDefault();c(g).find("[data-alert]").fadeOut(300,function(){c(g).find("[data-alert]").remove();close()})});kendo.notify(h)},options:{name:"Alert",windowTemplate:'<div data-alert class="alert alert-danger">#=message#<a href="\\#" class="close">&times;</a></div>',close:function(){}}});c.fn.extend({kendoAlert:function(f){return new b.kendoAlert(this,f)}})})(jQuery);(function(f,h){var c=kendo.ui.Widget,b=kendo.data.DataSource,e=window.ui=window.ui||{};var a=f.proxy,d="change",g=new kendo.data.ObservableObject({title:"&nbsp;"});e.extPanel=c.extend({init:function(j,i){var k=this;c.fn.init.call(k,j,i);i=k.options;k.refresh();kendo.notify(k)},events:[d],options:{name:"extPanel",title:null,template:null,data:{},refresh:false,commands:[]},hide:function(){var i=this;i.element.hide()},data:function(j){var i=this;if(j!==h){i.options.data=j;if(i.options.refresh){i.refresh()}i.trigger(d,{data:i.options.data})}else{return i.options.data}},refresh:function(){var i=this;i.render();if(i.options.afterChange){i.options.afterChange(i.options.data)}},show:function(){var i=this;f(i.element).show()},render:function(){var i=this;if(i.options.template){f(i.element).html(i.options.template(i.data()));kendo.bind(f(i.element),i.data())}f(i.element).find(".panel-header-actions a.k-link").each(function(j){f(this).click(function(m){m.preventDefault();var k=f(this);if(k.text()=="Minimize"){var l=k.find("span");if(l.hasClass("k-i-minimize")){l.removeClass("k-i-minimize");l.addClass("k-i-maximize");f(i.element).find(".panel-body, .panel-footer").addClass("hide")}else{l.removeClass("k-i-maximize");l.addClass("k-i-minimize");f(i.element).find(".panel-body, .panel-footer").removeClass("hide")}}else{if(k.text()=="Close"){i.destroy()}else{if(k.text()=="Refresh"){}else{if(k.text()=="Custom"){f(i.element).find(".panel-body:first").toggleClass("hide")}}}}})});f(i.element).find(".panel-body:first button.close").click(function(j){j.preventDefault();f(i.element).find(".panel-body:first").addClass("hide")});f.each(i.options.commands,function(j,k){f(k.selector).click(k.handler)})},body:function(){var i=this;return f(i.element).find(".panel-body:last")},destroy:function(){var i=this;c.fn.destroy.call(i);f(i.element).remove()}});f.fn.extend({extPanel:function(i){return new e.extPanel(this,i)}})})(jQuery);(function(d,e){var b=kendo.ui.Widget,a=kendo.data.DataSource,c=window.ui=window.ui||{};c.extDropDownList=b.extend({init:function(g,f){var h=this;b.fn.init.call(h,g,f);f=h.options;if(f.renderTo==null){f.renderTo=g}if(f.value!=null){h.value=f.value}h.render(f)},events:{},value:0,dataSource:null,options:{name:"dropDownList",dataSource:null,template:null,enabled:true},_change:function(){var f=this;if(f.options.change!=null){f.options.change(f.dataSource.get(f.value))}},render:function(f){var i=this.element.attr("id")+"list";var h=f.renderTo;var g=this;g.dataSource=a.create(f.dataSource);g.dataSource.fetch(function(){var j=g.dataSource.data();var k='<select id="'+i+'"role="navigation" class="form-control"';if(!f.enabled){k=k+"disabled >"}else{k=k+">"}d.each(j,function(l,m){k=k+"<option ";if(g.value==m[f.dataValueField]){k=k+" selected "}k=k+' value="'+m[f.dataValueField]+'" >'+m[f.dataTextField]+"</option>"});k=k+"</select>";h.append(k);g._change();d("#"+i).change(function(){g.value=d("#"+i).val();g._change()});if(f.doAfter!=null){f.doAfter(g)}})}});d.fn.extend({extDropDownList:function(f){return new c.extDropDownList(this,f)}})})(jQuery);(function(d,e){var b=kendo.ui.Widget,a=kendo.data.DataSource,c=window.ui=window.ui||{};c.extTopBar=b.extend({init:function(g,f){var h=this;b.fn.init.call(h,g,f);f=h.options;if(f.renderTo==null){f.renderTo=g}h.items=new Array();h.render(f)},events:{},dataSource:null,items:null,options:{name:"topBar",renderTo:null,menuName:null,dataSource:null,template:null,select:null},render:function(f){var h=f.renderTo;if(f.dataSource==null&&f.menuName!=null){this.dataSource=a.create({transport:{read:{url:"/secure/get-company-menu-component.do?output=json",dataType:"json",data:{menuName:f.menuName}}},schema:{data:"targetCompanyMenuComponent.components"}})}else{this.dataSource=a.create(f.dataSource)}var g=this;g.dataSource.fetch(function(){var j=g.dataSource.data();h.append(f.template(j));h.find(".nav a").click(function(n){if(d(n.target).is("[action]")){var l=d(n.target);var m={title:d.trim(l.text()),action:l.attr("action"),description:l.attr("description")||""};if(f.select!=null){f.select(m)}else{g.select(m)}}});if(d.isArray(f.items)){}else{if((typeof f.items=="object")&&(f.items!==null)){if(f.items.type=="dropDownList"){var k=f.items;var i=d("#"+k.id).extDropDownList(k);g.items.push(i)}}}if(f.doAfter!=null){f.doAfter(g)}})},select:function(g){var f=this.options.renderTo;f.find("form[role='navigation']").attr("action",g.action).submit()},getMenuItem:function(g){var f=this.dataSource.data();var h=null;d.each(f,function(j,k){if(k.components.length>0){d.each(k.components,function(l,i){if(g==i.name){h=i;return}})}else{if(g==k.name){h=k;return}}});return h},item:function(f){return d("#"+f).data("extDropDownList")}});d.fn.extend({extTopBar:function(f){return new c.extTopBar(this,f)}})})(jQuery);(function(f,g){var c=kendo.ui.Widget,b=kendo.data.DataSource,e=window.ui=window.ui||{};var a=false;var d=f("body");e.kendoTopBar=c.extend({init:function(i,h){var j=this;c.fn.init.call(j,i,h);h=j.options;j.render(h);i.click(f.proxy(j._open,this))},events:{},options:{name:"topBar",renderTo:null,dataSource:null,template:null},render:function(h){var j=h.renderTo;var k=b.create(h.dataSource);var i=this;k.fetch(function(){var l=k.data();j.append(h.template(l));j.find("ul").first().kendoMenu({orientation:"vertical",select:function(n){if(f(n.item).is("[action]")){var m=f(n.item);h.select({title:f.trim(m.text()),action:m.attr("action"),description:m.attr("description")||""});setTimeout(function(){i._open()},300)}}});if(h.doAfter!=null){h.doAfter(j)}})},_open:function(j){var i=this.options.renderTo;var h=kendo.fx(i).slideIn("right");if(a){h.reverse();a=false}else{h.play();a=true}j.preventDefault()}});f.fn.extend({kendoTopBar:function(h){return new e.kendoTopBar(this,h)}})})(jQuery);(function(f,c){var m=kendo.ui.Widget,l=window.ui=window.ui||{};var k=f.proxy,p=kendo.template,n="/accounts/get-user.do?output=json",i="authenticate",j="/login",a="/accounts/view-image.do?width=100&height=150",e="error",d="update",o="ROLE_SYSTEM",b=".kendoAccounts",g=false,h="disabled";l.kendoAccounts=m.extend({init:function(r,q){var s=this;m.fn.init.call(s,r,q);q=s.options;r=s.element;if(q.doAuthenticate){s.authenticate()}kendo.notify(s)},options:{name:"Accounts",photoUrl:null,doAuthenticate:true,visible:true,ajax:{url:n},template:null,dropdown:true},events:[i,e,d],authenticate:function(){var q=this;f.ajax({type:"POST",url:q.options.ajax.url,success:function(r){user=new User(f.extend(r.currentUser,{roles:r.roles}));user.set("isSystem",user.hasRole(o));f(q.element).data("currentUser",user);q.token=user;q.trigger(i,{token:user});if(q.options.visible){q.render()}if(q.options.afterAuthenticate!=null){q.options.afterAuthenticate()}},error:q.options.ajax.error||handleKendoAjaxError,dataType:"json"})},login:function(r,q){if(typeof r==="object"){q=r;r=c}q=q||{};f.ajax({type:"POST",url:q.url||j,data:q.data||{},success:function(s){if(s.error){q.fail(s)}else{q.success(s)}},error:q.error||handleKendoAjaxError,dataType:"json"})},render:function(){var s=this,q,r;if(s.options.photoUrl!=null){s.token.photoUrl=s.options.photoUrl}else{s.token.photoUrl=null}if(s.token.properties.imageId){s.token.photoUrl=a+"&imageId="+s.token.properties.imageId}if(s.options.template){s.element.html(s.options.template(s.token))}if(s.options.dropdown){f(s.element).on("click.fndtn.dropdown","[data-dropdown]",function(t){t.preventDefault();t.stopPropagation();s.toggle(f(this))});f("[data-dropdown-content]").on("click.fndtn.dropdown",function(t){t.stopPropagation()})}},toggle:function(q){var r=f("#"+q.data("dropdown"));if(q.hasClass("dropped")){q.removeClass("dropped");r.css("display","none");g=false}else{q.addClass("dropped");r.css("display","block");g=true}},destroy:function(){var q=this;m.fn.destroy.call(q);q.element.off(b);g=false},token:new User({})});f.fn.extend({kendoAccounts:function(q){return new l.kendoAccounts(this,q)}})})(jQuery);function handleKendoAjaxError(b){var a="";if(b.status==0){a="오프라인 상태입니다."}else{if(b.status==404){a="요청하신 페이지를 찾을 수 없습니다."}else{if(b.status==500){a="시스템 내부 오류가 발생하였습니다."}else{if(b.status==403||b.errorThrown=="Forbidden"){a="접근 권한이 없습니다."}else{if(b.errorThrown=="timeout"){a="처리 대기 시간을 초가하였습니다. 잠시 후 다시 시도하여 주십시오."}else{if(b.errorThrown=="parsererror"){a="데이터 파싱 중에 오류가 발생하였습니다."}else{a="오류가 발생하였습니다."}}}}}}$.jGrowl(a,{sticky:false,life:1000,animateOpen:{height:"show"},animateClose:{height:"hide"}})}(function(e,d,a,f){var c={callback:e.noop,deep_linking:true,init:false},b={init:function(g){c=e.extend({},c,g);return this.each(function(){if(!c.init){b.events()}if(c.deep_linking){b.from_hash()}})},events:function(){e(a).on("click.fndtn",".tabs a",function(g){b.set_tab(e(this).parent("dd, li"),g)});c.init=true},set_tab:function(j,l){var i=j.closest("dl, ul").find(".active"),k=j.children("a").attr("href"),h=/^#/.test(k),g=e(k+"Tab");if(h&&g.length>0){if(l&&!c.deep_linking){l.preventDefault()}g.closest(".tabs-content").children("li").removeClass("active").hide();g.css("display","block").addClass("active")}i.removeClass("active");j.addClass("active");c.callback()},from_hash:function(){var h=d.location.hash,g=e('a[href="'+h+'"]');g.trigger("click.fndtn")}}}(jQuery,this,this.document));